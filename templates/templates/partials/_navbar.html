<header class="sticky top-0 z-40 bg-white/85 backdrop-blur border-b border-slate-200 shadow-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="h-14 flex items-center justify-between gap-4">

      {# BRAND LEFT: LOGO + TEXT #}
      <div class="flex items-center gap-2">
        <div class="flex items-center justify-center h-8 w-8 rounded-full bg-slate-200 text-white text-xs font-semibold shadow-sm">
          <img
            src="{{ url_for('static', filename='favicon.ico') }}"
            alt="BCA Syariah"
            class="h-5"
          >
        </div>
        <div class="leading-tight">
          <div class="text-sm font-semibold text-slate-900 tracking-tight">
            RACKess
          </div>
          <div class="text-[10px] uppercase text-slate-400 tracking-[0.12em]">
            Rack Key Access System
          </div>
        </div>
      </div>

      {# NAV CENTER #}
      {% set path = request.path %}
      <nav class="hidden md:flex items-center gap-1 text-xs">
        {# helper macro style: active vs normal #}
        {% macro nav_link(label, href, active) -%}
          <a
            href="{{ href }}"
            class="px-3 py-1.5 rounded-full font-medium
                  {% if active %}
                    bg-slate-900 text-white shadow-sm
                  {% else %}
                    text-slate-600 hover:text-slate-900 hover:bg-slate-100
                  {% endif %}"
          >
            {{ label }}
          </a>
        {%- endmacro %}

        {{ nav_link("Dashboard", url_for('dashboard.index'), path == '/' or path.startswith('/dashboard')) }}
        {{ nav_link("Kunci Rak", url_for('key.index'), path.startswith('/keys')) }}
        {{ nav_link("Laptop",   url_for('laptop.index'), path.startswith('/laptops')) }}
      </nav>

      {# RIGHT: USER INFO #}
      <div class="flex items-center gap-3 text-xs">
        <div class="hidden sm:flex flex-col items-end leading-tight">
          <span class="text-slate-700 font-medium">
            {{ current_user.username if current_user.is_authenticated else "Guest" }}
          </span>
          <span class="text-[10px] text-slate-400">
            NOC Â· Data Center
          </span>
        </div>

        <a
          href="{{ url_for('auth.logout') }}"
          class="px-3 py-1.5 rounded-full border border-slate-300 text-slate-700
                 hover:bg-slate-900 hover:text-white hover:border-slate-900
                 text-xs font-medium"
        >
          Logout
        </a>
      </div>

    </div>

    {# NAV MOBILE (simple) #}
    <div class="md:hidden pb-2">
      <nav class="flex items-center gap-1 text-xs">
        <a
          href="{{ url_for('dashboard.index') }}"
          class="px-3 py-1.5 rounded-full
                 {% if path == '/' or path.startswith('/dashboard') %}
                   bg-slate-900 text-white
                 {% else %}
                   text-slate-600 bg-slate-50
                 {% endif %}"
        >
          Dashboard
        </a>
        <a
          href="{{ url_for('key.index') }}"
          class="px-3 py-1.5 rounded-full
                 {% if path.startswith('/keys') %}
                   bg-slate-900 text-white
                 {% else %}
                   text-slate-600 bg-slate-50
                 {% endif %}"
        >
          Kunci Rak
        </a>
        <a
          href="{{ url_for('laptop.index') }}"
          class="px-3 py-1.5 rounded-full
                 {% if path.startswith('/laptops') %}
                   bg-slate-900 text-white
                 {% else %}
                   text-slate-600 bg-slate-50
                 {% endif %}"
        >
          Laptop
        </a>
      </nav>
    </div>

  </div>
</header>
